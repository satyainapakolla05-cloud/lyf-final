{"version":3,"names":["FDBObjectStore","FDBRequest","AbortError","InvalidStateError","NotFoundError","TransactionInactiveError","FakeDOMStringList","FakeEvent","FakeEventTarget","queueTask","FDBTransaction","_state","_started","_rollbackLog","_objectStoresCache","Map","error","onabort","oncomplete","onerror","_requests","constructor","storeNames","mode","db","_scope","Set","objectStoreNames","Array","from","sort","_abort","errName","f","reverse","e","DOMException","undefined","request","readyState","source","result","event","bubbles","cancelable","eventPath","dispatchEvent","abort","objectStore","name","get","rawObjectStore","_rawDatabase","rawObjectStores","has","objectStore2","set","_execRequestAsync","obj","operation","Object","hasOwn","transaction","push","_start","length","r","shift","defaultAction","err","bind","canceled","commit","toString"],"sourceRoot":"../../../../../lib","sources":["internal/web/memidb/FDBTransaction.js"],"mappings":"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","ignoreList":[]}
