{"version":3,"names":["ConstraintError","extractKey","RecordStore","valueToKey","Index","deleted","initialized","records","constructor","rawObjectStore","name","keyPath","multiEntry","unique","getKey","key","record","get","undefined","value","getAllKeys","range","count","Infinity","values","push","structuredClone","length","getValue","getAllValues","storeRecord","newRecord","indexKey","err","Array","isArray","_","keep","part","indexOf","existingRecord","individualIndexKey","add","initialize","transaction","Error","_execRequestAsync","operation","_abort","source"],"sourceRoot":"../../../../../../lib","sources":["internal/web/memidb/lib/Index.js"],"mappings":"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","ignoreList":[]}
